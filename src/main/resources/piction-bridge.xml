<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
        http://www.springframework.org/schema/beans/spring-beans.xsd">

	<bean id="updateProcessor" class="edu.berkeley.cspace.piction.StandardUpdateProcessor">
		<property name="updateMonitor" ref="updateMonitor"/>
		<property name="batchUploader" ref="batchUploader"/>
		
		<!-- The maximum number of updates that may be processed in a single invocation. -->
		<!-- Comment this out to process all available updates. -->
		<property name="updateCountLimit" value="2"/>
		
		<!-- The number of updates to send in a single batch to the BMU. (Default 100) -->
		<!-- Multiple batches may be submitted until the available updates are exhausted. -->
		<property name="uploadBatchSize" value="10"/>
	</bean>
	
	<bean id="updateMonitor" class="edu.berkeley.cspace.piction.DatabaseUpdateMonitor">
	</bean>
	
	<bean id="batchUploader" class="edu.berkeley.cspace.piction.HttpBatchUploader">
		<!-- The URL of the BMU upload endpoint. -->
		<property name="uploadUrl" value="https://dev.cspace.berkeley.edu/bampfaDev_project/uploadmedia/rest/upload"/>
		
		<!-- The name of the field into which to place the files to upload. (Default imagefiles) -->
		<property name="fileFieldName" value="imagefiles"/>
		
		<!-- Additional text fields to send with the upload. -->
		<property name="textFields">
			<map>
				<!-- Uncomment validateonly to test the upload without actually queueing a job. -->
				<entry key="validateonly" value="on"/>
				<entry key="overridecreator" value="always"/>
				<entry key="rightsholder" value=""/>
				<entry key="overriderightsholder" value="always"/>
				<entry key="contributor" value=""/>
				<entry key="overridecontributor" value="always"/>
				<entry key="creator" value=""/>
				<entry key="overridecreator" value="always"/>
				<entry key="uploadmedia" value="yes"/>
			</map>
		</property>
	</bean>	
</beans>